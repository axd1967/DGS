
Installation instructions
-------------------------

Requirements:

*) A webserver which can use php, e.g., apache <http://httpd.apache.org>
*) php >= 4.1.0 <http://www.php.net>
*) mysql >= 3.23 <http://www.mysql.com>
*) cvs client <http://www.cvshome.org>




1) Download:

Either from cvs:

> cd /path/to/the/directory/where/you/want/dragon/to/be
> cvs -d:pserver:anonymous@cvs.dragongoserver.sourceforge.net:/cvsroot/dragongoserver login
> cvs -z3 -d:pserver:anonymous@cvs.dragongoserver.sourceforge.net:/cvsroot/dragongoserver co DragonGoServer
> mv DragonGoServer/* .
> rmdir DragonGoServer

or download a cvs snapshot from <http://www.dragongoserver.net/snapshot>


For both methods also download the images from <http://www.dragongoserver.net/snapshot>




2) Make a mysql database and a mysql user to access the database:

mysql> CREATE DATABASE dragon;
mysql> GRANT select, insert, update, delete ON dragon.* TO dragon@localhost IDENTIFIED BY 'secret';




3) Create mysql tables:

> mysql < init.mysql

and add some translations:

> mysql < translationdata.mysql




4) Edit permissions for include/config.php and translations/:

Find which group your webserver is using (e.g. www-data).
> su -c 'chgrp www-data include/config.php translations'
> chmod 640 include/config.php
> chmod 664 translations/


Adjust include/config.php to your environment.


By now, Dragon works with these PHP directives:
 error_reporting = E_ALL
 asp_tags = Off ;Unused
 arg_separator.input = &
 arg_separator.output = & 
 file_uploads = On
 track_vars = On ;always enabled as of PHP 4.0.3
 register_argc_argv = Off ;Unused
 register_globals = Off ;Don't care 
 safe_mode = Off
 variables_order = EGPCS
 gpc_order = GPC
 magic_quotes_gpc = Off ;Don't care
 magic_quotes_runtime = Off
 magic_quotes_sybase = Off
 post_max_size = 8M 
 precision = 14




5) Add some cron jobs. These should preferrably be run on a remote machine, so that the
   clock is not running when the network is down.

> crontab -e

# m  h dom mon dow command
0,30 *  *   *   *   wget -q -O - http://your.url/halfhourly_cron.php
*/5  *  *   *   *   wget -q -O - http://your.url/clock_tick.php
25   5  *   *   *   wget -q -O - http://your.url/daily_cron.php


(( Windows NT/200x/XP - the nncron LITE is a freeware clone
   of cron at <http://www.nncron.ru/download.shtml> ))




6) Complain in the support forum at dragon <http://www.dragongoserver.net> if it doesn't
   work.
