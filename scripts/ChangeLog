------------------------------------------------------------------
General infos
------------------------------------------------------------------
changelog reference at:
http://www.gnu.org/prep/standards/html_node/Change-Logs.html

previous server update:
Release [2012-06-08] - DGS 1.0.15 - CVS-tag [DGS-stable-20120608] on branch [DGS-stable-201206]

Developers INFO:

2012-06-07 juga
   Tournaments, Quick-Suite, Game-Editor

2007-12-23 rodival
   Code Cleanup, New Features

------------------------------------------------------------------
ChangeLog
------------------------------------------------------------------

2012-06-10 juga

   * include/quick_common.php ($clocks_stopped),
     clock_tick.php (clkrng, handle_game_timeouts):
   - added switch $clocks_stopped to stop clocks in 'include/quick_common.php'
     to have a safety-net after some major upgrade

   * include/time_functions.php (get_clock_ticks, time_left_ticksdate),
     include/classlib_game.php (NextGameOrder.make_timeout_date),
     include/game_functions.php (GameHelper.update_clock;
       FairKomiNegotiation.save_komi, ~.start_fairkomi_game),
     include/make_game.php (accept_invite_game, create_game),
     include/quick/quick_game.php (QuickHandlerGame.process_cmd_play),
     tournaments/game_admin.php (draw_add_time),
     confirm.php, game.php, quick_play.php:
   - added debug-location for reading clock-ticks

   * game.php:
   - show "other scoring" on devel-server only if game in SCORE-/FINISHED-phase

   * gameinfo.php:
   - removed extra-space for double-game

   * quick_play.php:
   - fix bug: missed X_Black/WhiteClock, so replaced loading with GameHelper::load_game_row()
   - fix bug: missed declaration of $message_query

   * include/make_game.php (accept_invite_game, create_game):
   - fix bug: missed GameSetup on creating double-game when accepting game-invitation

   * scripts/game_consistency.php:
   - fix bug: corrected table-alias usage for unknown column

   * include/db/games.php (Games, ~.insert, ~.update, ~.new_from_row):
   - fix bug: Games.Starttime/Lastchanged are not the typical db-entity
     Created/Lastchanged fields, but start-time after setup & last-moved-date respectively,
     therefore remove auto-setting of Starttime & Lastchanged field in insert() & update()
   - fix bug: used db-entity standard datetime-field prefix -> X_Starttime/X_Lastchanged

   * include/db/waitingroom.php (Waitingroom.insert, update):
   - fix bug: removed non-existing Lastchanged-field

   * scripts/game_consistency.php:
   - commented out & added TODO for wrong datetime-handling for consistency-check
     of Starttime>Lastchanged

   * snapshot.php:
   - updated snapshot-page for release 1.0.15
   - commented out current CVS-version as that version is often not stable

   * scripts/updates/roadmap_1_0_14_to_1_0_15.txt:
   - added mysqldump-command to export translation-data

   * scripts/updates/database_changes_1_0_14_to_1_0_15.mysql,
     scripts/updates/other_changes_1_0_14_to_1_0_15.txt,
     scripts/updates/ChangeLog_1_0_15,
     specs/db/dragon-ddl.sql:
   - sync'ed changes from LIVE-update from 10-Jun-2012
   - sync'ed DDL from LIVE-database
   - fix missing db-update: TournamentLadderProps.ChallengeRangeAbsolute signed

   * include/quick_common.php:
   - disabled server-down with $is_down=false for LIVE-update

   * scripts/fix_game_snapshot.php (fix_single_game, bulk_fix_missing_game_snapshots):
   - fix bug: Games-obj-update() destroyed Starttime/LastChanged-field
   - fix bug: allow single fix also if snapshot not set
   - fix bug: declare global-var for processing ALL games
   - collect game-ids, that coulnd't be processed

2012-06-08 juga

   * scripts/obsolete/*.php, scripts/obsolete/README.txt:
   - found some old scripts on live-server, probably obsolete

   * include/std_functions.php (send_message):
   - bugfix: increase CountMsgNew only if >=0

   * NEWS:
   - prepare release-notes for DGS 1.0.15
     - extended & corrected texts
     - commented out most references to disabled tournaments-features & chinese-ruleset

   * links.php:
   - fix broken links: IGF, IGS

   * include/quick/quick_wroom.php (QuickHandlerWaitingroom.process_cmd_info):
   - comment out TODO-fields: restrictions, calc_type/color/handicap/komi

   * include/config.php (ALLOW_RULESET_CHINESE),
     include/game_functions.php (GameSetupBuilder.build_url_game_basics),
     include/make_game.php (make_invite_game_setup, create_game),
     include/message_functions.php (game_settings_form),
     include/db/games.php (Games.setRuleset),
     tournaments/include/tournament_rules.php (TournamentRules.setRuleset,
       ~.convertEditForm_to_TournamentRules),
     new_game.php, NEWS:
   - disable chinese-ruleset till implementation clarified,
     error or enforce japanese-ruleset as default

2012-06-07 juga

   * include/quick_common.php ($is_down, $is_down_message):
   - sync is_down=true & is_down_message with stable-branch to prepare server-upgrade

   * include/std_functions.php (start_page, show_maintenance_page, is_logged_in),
     include/connect2mysql.php (admin_log, writeIpStats, db_query),
     include/error_functions.php (err_log),
     error.php, game.php, login.php, sgf.php:
   - improve handling if server is down to prevent db-updates and useless db-connections:
     - don't count quota
     - allow login for admins
     - prevent writing AdminLog & ErrorLog
     - db_query: allow only SELECTs, no writing-operations allowed
     - game-page: show maintenance page to prevent useless db-connections
     - sgf: return server_down-error
   - added logging of HTTP-headers for users: Accept-Language & Accept-Charset to support UTF-8 migration

   * scripts/server-info.php:
   - added login-check to allow calling if server-down

   * quick_do.php, quick_play.php, quick_status.php:
   - replace LFs in server-down-message

   * scripts/updates/roadmap_1_0_14_to_1_0_15.txt:
   - roadmap for upgrading to DGS 1.0.15

2012-06-06 juga

   * include/message_functions.php (game_settings_form), NEWS:
   - changed default time-settings: Fischer time 14d+1 -> 30d + 1d

