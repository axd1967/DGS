#!/usr/bin/make -f

# Use 'make -f images_makefile' to generate the images

# Needed software: (later versions might work too)
# povray 3.5
# gimp 1.2
# gimp-perl 1.2

SIZES = 13 17 21 25 29 35 42 50

BIGSTONES = BigBlack.png BigBlackMark.png BigWhite.png BigWhiteMark.png YinYang.png BigPlayBlack.png BigPlayWhite.png
BIGSTONES_POV = BigBlack_pov.png BigWhite_pov.png YinYang_pov.png BigPlayBlack_pov.png BigPlayWhite_pov.png

POVFILES = stone.inc stone.pov

POVRAY = povray
POVRAY_ARGS = +D +sp16 +ep4 -P -V +UA +A +J +W1024 +H768 +FN

target: board stones

BigPlayBlack_pov.png: $(POVFILES)
	$(POVRAY) $(POVRAY_ARGS) Declare=PLAY_B=1 +O$@ stone.pov

BigPlayWhite_pov.png: $(POVFILES)
	$(POVRAY) $(POVRAY_ARGS) Declare=PLAY_W=1 +O$@ stone.pov

BigBlack_pov.png: $(POVFILES)
	$(POVRAY) $(POVRAY_ARGS) Declare=BLACK=1 +O$@ stone.pov

BigWhite_pov.png: $(POVFILES)
	$(POVRAY) $(POVRAY_ARGS) Declare=WHITE=1 +O$@ stone.pov

YinYang_pov.png: $(POVFILES)
	$(POVRAY) $(POVRAY_ARGS) Declare=YINYANG=1 +O$@ stone.pov

%.png: %_pov.png generate_big_images.pl
	./generate_big_images.pl $@ $<

%Mark.png: %_pov.png generate_big_images.pl
	./generate_big_images.pl $@ $<



board: generate_board_images.pl
	@echo -e "\n\n------------------------------------------------------------------------------------\n";
	@echo -e "   Draw some board images with gimp";
	@echo -e "\n------------------------------------------------------------------------------------\n";
	./generate_board_images.pl board
	touch board

stones: $(BIGSTONES) generate_board_images.pl
	@echo -e "\n\n------------------------------------------------------------------------------------\n";
	@echo -e "   Draw stone images with gimp";
	@echo -e "\n------------------------------------------------------------------------------------\n";
	./generate_board_images.pl stones
	touch stones


clean:
	 rm -rf $(SIZES)